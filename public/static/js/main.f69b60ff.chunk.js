(this.webpackJsonpdiplom=this.webpackJsonpdiplom||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(75);t.default=Object(n.c)(["userReducer","appReducer"].reduce((function(e,t){return e[t]=a(552)("./".concat(t)).default,e}),{}))},249:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(69),l={isReady:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;return a===r.a?Object(n.a)({},e,{isReady:c}):e}},250:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(69),l={user:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case r.b:return Object(n.a)({},e,{user:c});default:return e}}},286:function(e,t,a){e.exports=a(553)},291:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},487:function(e,t,a){},500:function(e,t,a){},539:function(e,t,a){},547:function(e,t,a){},552:function(e,t,a){var n={"./":115,"./appReducer":249,"./appReducer.js":249,"./index":115,"./index.js":115,"./userReducer":250,"./userReducer.js":250};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=552},553:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),o=(a(291),a(91)),i=a(77),s=a(40),u=a.n(s),m=a(70),d=a(49),f=a(563),p=a(568),h=a(13),E=a(577),v=a(578),g=a(1),y=a.n(g),b=(a(295),function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:y()("block",a)},t)}),k=a(51),w=(a(296),function(e){return r.a.createElement(k.a,Object.assign({},e,{className:y()("button",e.className,{"button--large":"large"===e.size})}))}),C=function(e,t,a){return t[e]?a[e]?"error":"success":""},S=a(554),I=(a(313),function(e){var t=e.url,a=e.letter,n=e.name;if(t)return r.a.createElement(S.a,{className:"avatar",src:t});var l=function(e){var t=e.charCodeAt();return t>=1048&&t<=1055?{background:"#F5D6D9",color:"#F38181"}:t>=1049&&t<=1063?{background:"#F8ECD5",color:"#F1A32F"}:t>=1064&&t<=1071?{background:"#DAD5F8",color:"#816CFF"}:{background:"#E9F5FF",color:"#2A86FF"}}(n||a);return r.a.createElement("div",{className:"avatar",style:{backgroundColor:"".concat(l.background)}},r.a.createElement("div",{className:"avatar__letter",style:{color:l.color}},a))}),O=a(573),x=a(574),_=a(575),j=a(576),N=(a(314),a(25)),F=a(157),T=a.n(F);T.a.defaults.baseURL="http://diplom.gussi-gussi.com",T.a.defaults.withCredentials=!0;var A=T.a;A.defaults.withCredentials=!0;var R=function(e){return P().then((function(t){return A.post("/register",Object(N.a)({},e,{remember:"on"}))}))},z=function(e){return P().then((function(t){return A.post("/login",Object(N.a)({},e,{remember:"on"}))}))},B=function(){return P().then((function(e){return A.get("/api/user")}))},D=function(){P().then((function(e){A.post("/logout").then((function(e){window.location.reload()})).catch((function(e){console.log(e.response)}))}))};function P(){return A.defaults.withCredentials=!0,A.get("/sanctum/csrf-cookie")}var L,V=A.CancelToken;function M(){return A.defaults.withCredentials=!0,A.get("/sanctum/csrf-cookie")}var U,W={save:function(e){return null!==e.id&&""!==e.id?A.put("/api/clients/".concat(e.id),e):A.post("/api/clients",e)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return M().then((function(t){return A.get("/api/clients",{params:e,cancelToken:new V((function(e){L=e}))})}))},getList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return A.get("/api/clients/list",e)},show:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/api/clients/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(e){return A.delete("/api/clients/".concat(e))},cancel:function(){L()}},H=A.CancelToken,Z={save:function(e){var t=new FormData;return t.append("name",e.name),t.append("price",e.price),null!==e.image&&t.append("img",e.image),e.id?(t.append("_method","PATCH"),A.post("/api/foods/".concat(e.id),t)):A.post("/api/foods",t)},cancel:function(){U()},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return A.get("/api/foods",{params:e,cancelToken:new H((function(e){U=e}))})},getList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return A.get("/api/foods/list",e)},show:function(e){return A.get("/api/foods/".concat(e))},delete:function(e){return A.delete("/api/foods/".concat(e))}},J={save:function(e){return A.post("/api/orders",e)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.get("/api/orders",{params:e})},show:function(e){return A.get("/api/orders/".concat(e))},setStatus:function(e,t){return A.put("/api/orders/".concat(e),{status:t})},delete:function(e){return A.delete("/api/orders/".concat(e))},getStatistic:function(e,t){return A.get("/api/stats",{params:Object(N.a)({},e,{type:t})})}},X=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(h.b,{to:"/",className:"/"===window.location.pathname?"active":""},r.a.createElement(O.a,null),r.a.createElement("span",null," \u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement(h.b,{to:"/clients",className:window.location.pathname.includes("clients")?"active":""},r.a.createElement(x.a,null),r.a.createElement("span",null," \u041a\u043b\u0438\u0435\u043d\u0442\u044b")),r.a.createElement(h.b,{to:"/foods",className:window.location.pathname.includes("foods")?"active":""},r.a.createElement(_.a,null),r.a.createElement("span",null," \u0410\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442")),r.a.createElement(h.b,{to:"/#",onClick:function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0430\u0439\u0442 ?")&&D()}},r.a.createElement(j.a,null),r.a.createElement("span",null," \u0412\u044b\u0439\u0442\u0438")))},$=function(e){var t=e.values,a=e.touched,n=e.errors,l=e.handleChange,c=e.handleBlur,o=e.handleSubmit,i=e.isValid,s=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement("div",{className:"auth__top"},r.a.createElement("h2",null,"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("p",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),r.a.createElement(b,null,r.a.createElement(f.a,{onSubmit:o,className:"login-form"},r.a.createElement(f.a.Item,{validateStatus:C("email",a,n),help:a.email?n.email:"",hasFeedback:!0},r.a.createElement(p.a,{id:"email",prefix:r.a.createElement(E.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"E-Mail",value:t.email,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,{validateStatus:C("password",a,n),help:a.password?n.password:"",hasFeedback:!0},r.a.createElement(p.a,{id:"password",prefix:r.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),size:"large",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:t.password,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,null,s&&!i&&r.a.createElement("span",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement(w,{disabled:s,onClick:o,type:"primary",size:"large"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),r.a.createElement(h.b,{className:"auth__register-link",to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))},K=function(e){var t=e.isAuth,a=e.values,n=e.errors,r={email:function(e){e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(n.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 E-Mail"):n.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-Mail"},password:function(e){e?t||/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(e)||(n.password="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043b\u0451\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):n.password="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},password_confirmation:function(e){e||(n.password_confirmation="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e"),t&&e===a.password||(n.password_confirmation="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")},name:function(e){t&&e||(n.name="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e")},phone:function(e){t&&e||(n.phone="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")}};Object.keys(a).forEach((function(e){return r[e]&&r[e](a[e])}))},Y=Object(d.b)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",password:""}},validate:function(e){var t={};return K({isAuth:!0,values:e,errors:t}),t},handleSubmit:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,r=a.setErrors,a.props,e.next=3,z(t).catch((function(e){if(void 0!==e.response){var t={};Object.keys(e.response.data.errors).forEach((function(a){t[a]=e.response.data.errors[a][0]})),r(t)}})).then((function(e){B().then((function(e){window.location.replace("/")})),n(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),displayName:"LoginForm"})($),q=function(e){var t=e.values,a=e.touched,n=e.errors,l=e.handleChange,c=e.handleBlur,o=e.handleSubmit,i=e.isValid,s=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement("div",{className:"auth__top"},r.a.createElement("h2",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("p",{style:{fontSize:14}},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e")),r.a.createElement(b,null,r.a.createElement(f.a,{onSubmit:o,className:"login-form"},r.a.createElement(f.a.Item,{validateStatus:C("email",a,n),help:a.email?n.email:"",hasFeedback:!0},r.a.createElement(p.a,{id:"email",prefix:r.a.createElement(E.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"E-Mail",value:t.email,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,{validateStatus:C("name",a,n),help:a.name?n.name:"",hasFeedback:!0},r.a.createElement(p.a,{id:"name",prefix:r.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large",placeholder:"\u0418\u043c\u044f",value:t.name,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,{validateStatus:C("password",a,n),help:a.password?n.password:"",hasFeedback:!0},r.a.createElement(p.a,{id:"password",prefix:r.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),size:"large",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:t.password,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,{validateStatus:C("password_confirmation",a,n),help:a.password_confirmation?n.password_confirmation:"",hasFeedback:!0},r.a.createElement(p.a,{id:"password_confirmation",prefix:r.a.createElement(v.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),size:"large",type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:t.password_confirmation,onChange:l,onBlur:c})),r.a.createElement(f.a.Item,null,s&&!i&&r.a.createElement("span",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement(w,{disabled:s,onClick:o,type:"primary",size:"large"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(h.b,{className:"auth__register-link",to:"/login"},"\u0423 \u043c\u0435\u043d\u044f \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))))},G=Object(d.b)({enableReinitialize:!0,mapPropsToValues:function(){return{email:"",password:"",name:"",password_confirmation:""}},validate:function(e){var t={};return K({isAuth:!0,values:e,errors:t}),t},handleSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors;t.props;R(e).then((function(e){B().then((function(e){window.location.replace("/")}))})).catch((function(e){if(void 0!==e.response){var t={};Object.keys(e.response.data.errors).forEach((function(a){t[a]=e.response.data.errors[a][0]})),n(t)}a(!1)}))},displayName:"RegisterForm"})(q),Q=(a(437),function(){return r.a.createElement("section",{className:"auth"},r.a.createElement("div",{className:"auth__content"},r.a.createElement(i.b,{exact:!0,path:"/login",component:Y}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:G})))}),ee=a(16),te=a(557),ae=a(198),ne=a(570),re=a(564),le=a(197),ce=a(555),oe=a(560),ie=a(565),se=a(572),ue=a(107),me=(a(438),{0:{text:"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",color:"red"},1:{text:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",color:"green"},2:{text:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",color:"green"}}),de=Array(5).fill(0).map((function(e,t){return{name:"",letter:"",id:t,loading:!0,status:0}})),fe=function(e){var t=r.a.useState([{key:"",data:de}]),a=Object(ee.a)(t,2),n=a[0],l=a[1],c=r.a.useState("2020-04-11"),o=Object(ee.a)(c,2),i=o[0],s=o[1];return r.a.useEffect((function(){J.get({date_from:i}).then((function(e){l(e.data)})).catch((function(e){}))}),[i]),r.a.createElement("div",{className:"site-content"},r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,"\u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement("div",{className:"site-layout-content"},r.a.createElement("div",{className:"orders"},r.a.createElement(le.a,{placeholder:"\u0417\u0430\u043a\u0430\u0437\u044b \u043e\u0442",onChange:function(e,t){return s(t)}}),r.a.createElement(k.a,{onClick:function(){return e.history.push("/orders/create")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),n.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(ce.a,null,t.key),t.data.map((function(t){return r.a.createElement(oe.a.Item,{className:"cursor-pointer",onClick:function(){return e.history.push("/orders/"+t.id)},key:t.id},r.a.createElement(ie.a,{avatar:!0,title:!1,loading:t.loading,active:!0},r.a.createElement(oe.a.Item.Meta,{avatar:r.a.createElement(I,{letter:t.letter,name:t.name}),title:r.a.createElement(h.b,{to:"/orders/".concat(t.id)},t.name),description:r.a.createElement(se.a,{color:me[t.status].color,text:me[t.status].text})})))})))})),0===n.length&&r.a.createElement(ue.a,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60},description:r.a.createElement("span",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")},r.a.createElement(k.a,{onClick:function(){return e.history.push("/orders/create")},type:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},pe=(a(487),Array(5).fill(0).map((function(e,t){return{name:"",letter:"",id:t,loading:!0}}))),he=function(e){var t=r.a.useState([{key:"",data:pe}]),a=Object(ee.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){return W.get().then((function(e){l(e.data.data)})).catch((function(e){})),function(){W.cancel()}}),[]);return r.a.createElement("div",{className:"site-content"},r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")),r.a.createElement("div",{className:"site-layout-content"},r.a.createElement("div",{className:"clients"},r.a.createElement("div",null,r.a.createElement(k.a,{onClick:function(){return e.history.push("/clients/create")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),n.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(ce.a,{orientation:"left"},t.key),t.data.map((function(t){return r.a.createElement(oe.a.Item,{className:"cursor-pointer",key:t.id,onClick:function(){return e.history.push("/clients/".concat(t.id))},actions:[r.a.createElement(h.b,{onClick:function(e){return e.stopPropagation()},to:"/clients/".concat(t.id,"/edit"),key:"list-loadmore-edit"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")]},r.a.createElement(ie.a,{avatar:!0,title:!1,loading:t.loading,active:!0},r.a.createElement(oe.a.Item.Meta,{avatar:r.a.createElement(I,{letter:t.letter,name:t.name}),title:r.a.createElement(h.b,{to:"/clients/".concat(t.id)},t.name),description:""})))})))})),0===n.length&&r.a.createElement(ue.a,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60},description:r.a.createElement("span",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")},r.a.createElement(k.a,{onClick:function(){return e.history.push("/clients/create")},type:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},Ee=a(559),ve=a(561),ge=a(579),ye=a(580),be=a(581),ke=Ee.a.Meta,we=ve.a.confirm,Ce=function(e){var t=r.a.useState({name:""}),a=Object(ee.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(ee.a)(c,2),i=o[0],s=o[1];return r.a.useEffect((function(){s(!0),W.show(e.match.params.id).then((function(t){null===t.data.client&&e.history.push("/404"),l(t.data.client)})).catch((function(t){console.log(t),e.history.push("/404")})).finally((function(){s(!1)}))}),[e.match.params.id]),r.a.createElement("div",null,r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/clients"},"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")),r.a.createElement(re.a.Item,null,n.name)),r.a.createElement(Ee.a,{style:{width:"100%",marginTop:16},actions:[r.a.createElement(ye.a,{key:"edit",onClick:function(){return e.history.push("/clients/".concat(e.match.params.id,"/edit"),{client:n})}}),r.a.createElement(be.a,{onClick:function(){return t=e.match.params.id,void we({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",icon:r.a.createElement(ge.a,null),content:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430?",okText:"\u0414\u0430",okType:"danger",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onOk:function(){W.delete(t).then((function(t){e.history.replace("/clients")}))},onCancel:function(){}});var t},key:"delete"})]},r.a.createElement(ie.a,{loading:i,avatar:!0,active:!0},r.a.createElement(ke,{avatar:r.a.createElement(I,{letter:(null===n||void 0===n?void 0:n.letter)||"",name:n.name||""}),title:n.name}))))},Se=a(566),Ie=a(582),Oe=a(583),xe=function(e){var t={},a={name:function(e){e||(t.name="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e")},phone:function(e){e||(t.phone="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")}};return Object.keys(e).forEach((function(t){return a[t]&&a[t](e[t])})),t},_e=function(e){var t=Object(d.a)({initialValues:{name:"",phone:"",address:"",id:""},validate:xe,onSubmit:function(t){W.save(t).then((function(t){var a;a="success",Se.a[a]({message:"\u041a\u043b\u0438\u0435\u043d\u0442",description:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"}),e.history.push("/clients/".concat(t.data.client.id))}))}});return r.a.useEffect((function(){void 0!==e.location.state?t.setValues(e.location.state.client):e.match.params.hasOwnProperty("id")&&W.show(e.match.params.id).then((function(e){t.setValues(e.data.client)}))}),[e.location.state,e.match.params]),r.a.createElement("div",null,r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/clients"},"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")),""!==t.values.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/clients/"+t.values.id},t.values.name)),r.a.createElement(re.a.Item,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")):r.a.createElement(re.a.Item,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(b,null,t.values&&r.a.createElement(f.a,{onSubmit:t.handleSubmit,className:"client-form"},r.a.createElement(f.a.Item,{validateStatus:C("name",t.touched,t.errors),help:t.touched.name?t.errors.name:"",hasFeedback:!0},r.a.createElement(p.a,{id:"name",prefix:r.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"medium",placeholder:"\u0418\u043c\u044f",value:t.values.name,onChange:t.handleChange,onBlur:t.handleBlur})),r.a.createElement(f.a.Item,{validateStatus:C("phone",t.touched,t.errors),help:t.touched.phone?t.errors.phone:"",hasFeedback:!0},r.a.createElement(p.a,{id:"phone",prefix:r.a.createElement(Ie.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),size:"medium",placeholder:"+7(999)999-99-99",value:t.values.phone,onChange:t.handleChange,onBlur:t.handleBlur})),r.a.createElement(f.a.Item,{validateStatus:C("address",t.touched,t.errors),help:t.touched.address?t.errors.address:"",hasFeedback:!0},r.a.createElement(p.a,{id:"address",prefix:r.a.createElement(Oe.a,{type:"home",style:{color:"rgba(0,0,0,.25)"}}),size:"medium",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",value:t.values.address,onChange:t.handleChange,onBlur:t.handleBlur})),r.a.createElement(f.a.Item,null,t.isSubmitting&&!t.isValid&&r.a.createElement("span",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement(w,{disabled:t.isSubmitting,onClick:t.handleSubmit,type:"primary",size:"medium"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))},je=(a(500),Array(5).fill(0).map((function(e,t){return{name:"",letter:"",id:t,loading:!0}}))),Ne=function(e){var t=r.a.useState([{key:"",data:je}]),a=Object(ee.a)(t,2),n=a[0],l=a[1];return r.a.useEffect((function(){return Z.get().then((function(e){l(e.data.data)})).catch((function(e){})),function(){Z.cancel()}}),[]),r.a.createElement("div",{className:"site-content"},r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,"\u0410\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442")),r.a.createElement("div",{className:"site-layout-content"},r.a.createElement("div",{className:"foods"},r.a.createElement("div",null,r.a.createElement(k.a,{onClick:function(){return e.history.push("/foods/create")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),n.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(ce.a,{orientation:"left"},t.key),t.data.map((function(t){return r.a.createElement(oe.a.Item,{className:"cursor-pointer",key:t.id,onClick:function(){return e.history.push("/foods/".concat(t.id))},actions:[r.a.createElement(h.b,{onClick:function(e){return e.stopPropagation()},to:"/foods/".concat(t.id,"/edit"),key:"list-loadmore-edit"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")]},r.a.createElement(ie.a,{avatar:!0,title:!1,loading:t.loading,active:!0},r.a.createElement(oe.a.Item.Meta,{avatar:r.a.createElement(I,{url:t.img,letter:t.letter,name:t.name}),title:r.a.createElement(h.b,{to:"/foods/".concat(t.id)},t.name),description:""})))})))})),0===n.length&&r.a.createElement(ue.a,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60},description:r.a.createElement("span",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")},r.a.createElement(k.a,{onClick:function(){return e.history.push("/foods/create")},type:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},Fe=Ee.a.Meta,Te=ve.a.confirm,Ae=function(e){var t=r.a.useState({name:""}),a=Object(ee.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(ee.a)(c,2),i=o[0],s=o[1];return r.a.useEffect((function(){s(!0),Z.show(e.match.params.id).then((function(t){null===t.data.food&&e.history.push("/404"),l(t.data.food)})).catch((function(t){console.log(t),e.history.push("/404")})).finally((function(){s(!1)}))}),[e.match.params.id]),r.a.createElement("div",null,r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/foods"},"\u0410\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442")),r.a.createElement(re.a.Item,null,n.name)),r.a.createElement(Ee.a,{style:{width:"100%",marginTop:16},actions:[r.a.createElement(ye.a,{key:"edit",onClick:function(){return e.history.push("/foods/".concat(e.match.params.id,"/edit"),{food:n})}}),r.a.createElement(be.a,{onClick:function(){return t=e.match.params.id,void Te({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",icon:r.a.createElement(ge.a,null),content:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430?",okText:"\u0414\u0430",okType:"danger",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onOk:function(){Z.delete(t).then((function(t){e.history.replace("/foods")}))},onCancel:function(){}});var t},key:"delete"})]},r.a.createElement(ie.a,{loading:i,avatar:!0,active:!0},r.a.createElement(Fe,{avatar:r.a.createElement(I,{url:n.image,letter:(null===n||void 0===n?void 0:n.letter)||"",name:n.name||""}),title:n.name}))))},Re=a(558),ze=a(584),Be=a(585),De=a(586),Pe=function(e){var t={},a={name:function(e){e||(t.name="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")},price:function(e){e||(t.price="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0446\u0435\u043d\u0443")}};return Object.keys(e).forEach((function(t){return a[t]&&a[t](e[t])})),t},Le=function(e){var t=r.a.useState(null),a=Object(ee.a)(t,2),n=a[0],l=a[1],c=Object(d.a)({initialValues:{name:"",price:"",id:""},validate:Pe,onSubmit:function(t){Z.save(Object(N.a)({},t,{image:n})).then((function(t){var a;a="success",Se.a[a]({message:"\u041a\u043b\u0438\u0435\u043d\u0442",description:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"}),e.history.push("/foods/".concat(t.data.food.id))}))}});r.a.useEffect((function(){void 0!==e.location.state?c.setValues(e.location.state.food):e.match.params.hasOwnProperty("id")&&Z.show(e.match.params.id).then((function(e){c.setValues(e.data.food)}))}),[e.location.state,e.match.params]);var o={beforeUpload:function(e){return l(e),!1},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){e.file,e.fileList},defaultFileList:[],showUploadList:{}};return r.a.createElement("div",null,r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/foods"},"\u0410\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442")),""!==c.values.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/foods/"+c.values.id},c.values.name)),r.a.createElement(re.a.Item,null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")):r.a.createElement(re.a.Item,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(b,null,c.values&&r.a.createElement(f.a,{onSubmit:c.handleSubmit,className:"food-form"},r.a.createElement(f.a.Item,{validateStatus:C("name",c.touched,c.errors),help:c.touched.name?c.errors.name:"",hasFeedback:!0},r.a.createElement(p.a,{id:"name",prefix:r.a.createElement(ze.a,{type:"book",style:{color:"rgba(0,0,0,.25)"}}),size:"medium",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:c.values.name,onChange:c.handleChange,onBlur:c.handleBlur})),r.a.createElement(f.a.Item,{validateStatus:C("price",c.touched,c.errors),help:c.touched.price?c.errors.price:"",hasFeedback:!0},r.a.createElement(p.a,{id:"price",type:"number",prefix:r.a.createElement(Be.a,{type:"price",style:{color:"rgba(0,0,0,.25)"}}),size:"medium",placeholder:"\u0426\u0435\u043d\u0430",value:c.values.price,onChange:c.handleChange,onBlur:c.handleBlur})),r.a.createElement(Re.a,o,r.a.createElement(w,{style:{marginBottom:10}},r.a.createElement(De.a,null)," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c")),r.a.createElement(f.a.Item,null,c.isSubmitting&&!c.isValid&&r.a.createElement("span",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement(w,{disabled:c.isSubmitting,onClick:c.handleSubmit,type:"primary",size:"medium"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))},Ve=a(562),Me=a(569),Ue=(a(539),Ve.a.Title),We={0:{text:"\u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",color:"red"},1:{text:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",color:"green"}},He=function(e){var t=r.a.useState(null),a=Object(ee.a)(t,2),n=a[0],l=a[1];return r.a.useEffect((function(){J.show(e.match.params.id).then((function(t){null===t.data.data&&e.history.push("/404"),l(t.data.data)})).catch((function(t){e.history.push("/404")}))}),[]),null===n?r.a.createElement("div",null):r.a.createElement("div",{className:"site-content"},r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,r.a.createElement(h.b,{to:"/"},"\u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement(re.a.Item,null,null===n||void 0===n?void 0:n.name)),r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(Me.a,{title:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},r.a.createElement(Me.a.Item,{label:"\u0418\u043c\u044f"},n.name),r.a.createElement(Me.a.Item,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"},n.phone),r.a.createElement(Me.a.Item,{label:"\u0410\u0434\u0440\u0435\u0441"},n.address||"\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),r.a.createElement(Me.a.Item,{label:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430"},r.a.createElement(se.a,{style:{backgroundColor:"#52c41a"},count:n.total_sum+"\u0420",overflowCount:1e6})),r.a.createElement(Me.a.Item,{label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},n.date_delivery),r.a.createElement(Me.a.Item,{label:"\u0421\u0442\u0430\u0442\u0443\u0441"},r.a.createElement(se.a,{color:We[n.status].color,text:We[n.status].text}))),r.a.createElement(ce.a,null),r.a.createElement("div",null,r.a.createElement(Ue,{level:4},"\u0417\u0430\u043a\u0430\u0437"),r.a.createElement(oe.a,{itemLayout:"horizontal",dataSource:n.foods,renderItem:function(e){return r.a.createElement(oe.a.Item,null,r.a.createElement(oe.a.Item.Meta,{avatar:r.a.createElement(I,{url:e.image,letter:e.letter,name:e.name}),title:e.name,description:r.a.createElement("div",{className:"order"},r.a.createElement("span",null,e.pivot.comment),r.a.createElement(se.a,{style:{backgroundColor:"#52c41a"},count:e.pivot.count+" "+e.pivot.unit,overflowCount:1e6}))}))}}))))},Ze=(a(547),a(92)),Je=a.n(Ze),Xe=r.a.createContext({}),$e=function(e){var t={},a={clientId:function(e){e||(t.clientId="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430")},date_delivery:function(e){e||(t.date_delivery="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438")},time_delivery:function(e){e||(t.time_delivery="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438")}};return Object.keys(e).forEach((function(t){return a[t]&&a[t](e[t])})),t},Ke=function(e){var t=e.children,a=r.a.useState([{foodID:null,count:"1",unit:"\u0428\u0422",comment:""}]),n=Object(ee.a)(a,2),l=n[0],c=n[1],o=r.a.useState(0),i=Object(ee.a)(o,2),s=i[0],u=i[1],m=r.a.useState(null),f=Object(ee.a)(m,2),p=f[0],h=f[1],E=r.a.useState([]),v=Object(ee.a)(E,2),g=v[0],y=v[1],b=r.a.useState([]),k=Object(ee.a)(b,2),w=k[0],C=k[1],S=r.a.useState(!1),I=Object(ee.a)(S,2),O=I[0],x=I[1],_=r.a.useState(null),j=Object(ee.a)(_,2),F=j[0],T=j[1],A=r.a.useState([]),R=Object(ee.a)(A,2),z=R[0],B=R[1],D=Object(d.a)({initialValues:{clientId:"",date_delivery:"",time_delivery:""},validate:$e,onSubmit:function(e){P()}});r.a.useEffect((function(){Promise.all([W.getList().then((function(e){C(e.data)})),Z.getList().then((function(e){y(e.data)}))]).finally((function(e){x(!0)}))}),[]);var P=function(){B([]);var e=Je.a.cloneDeep(l);1!==e.length&&c(e.splice(1,1)),console.log(F),console.log(l);var t=Object(N.a)({cart:e.filter((function(e){return null!==e.foodID})),client_id:D.values.clientId,date_delivery:[D.values.date_delivery,D.values.time_delivery].join(" "),comment:""},F,{total_sum:s});J.save(t).then((function(e){h(e.data)})).catch((function(e){e.response.data.errors.hasOwnProperty("cart")&&B(Object.values(e.response.data.errors.cart))}))};return r.a.createElement(Xe.Provider,{value:{handleChange:function(e,t,a){var n=0,r=Je.a.cloneDeep(l);r[t][a]=e||null,c(r),r.map((function(e){var t=Je.a.find(g,(function(t){return t.id===e.foodID}));t&&(n+=t.price*parseInt(e.count)||0)})),u(n)},foods:g,clients:w,isReady:O,selectedClient:F,setSelectedClient:T,handleChangeFood:function(e,t,a){var n=0,r=Je.a.cloneDeep(l);r[t][a]=e||null,c(r),r.map((function(e){var t=Je.a.find(g,(function(t){return t.id===e.foodID}));t&&(n+=t.price*parseInt(e.count)||0)})),u(n)},cart:l,pushItem:function(){var e=Je.a.cloneDeep(l);e.push({foodID:null,count:"1",unit:"\u0428\u0422",comment:""}),c(e)},handleSubmit:P,sum:s,formik:D,errors:z,order:p}},t)},Ye=a(121),qe=a(556),Ge=a(571),Qe=a(567),et=Ye.a.Option,tt=Ve.a.Title,at=function(){var e=r.a.useContext(Xe),t=r.a.useRef(null);return r.a.useEffect((function(e){window.ref=t}),[e.isReady]),r.a.createElement(f.a,{onSubmit:e.formik.handleSubmit,className:"order-form"},r.a.createElement(tt,{level:4},"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"order-form__form"},r.a.createElement(f.a.Item,{validateStatus:C("clientId",e.formik.touched,e.formik.errors),help:e.formik.touched.clientId?e.formik.errors.clientId:"",hasFeedback:!0},r.a.createElement(Ye.a,{showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",optionFilterProp:"children",onChange:function(t){e.formik.setValues(Object(N.a)({},e.formik.values,{clientId:t})),e.setSelectedClient(e.clients.find((function(e){return e.id===t})))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.clients.map((function(e){return r.a.createElement(et,{key:e.id,value:e.id},e.name)})))),r.a.createElement(f.a.Item,{validateStatus:C("date_delivery",e.formik.touched,e.formik.errors),help:e.formik.touched.date_delivery?e.formik.errors.date_delivery:"",hasFeedback:!0},r.a.createElement(le.a,{style:{width:"100%"},ref:t,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",onChange:function(t,a){return e.formik.setValues(Object(N.a)({},e.formik.values,{date_delivery:a}))}})),r.a.createElement(f.a.Item,{validateStatus:C("time_delivery",e.formik.touched,e.formik.errors),help:e.formik.touched.time_delivery?e.formik.errors.time_delivery:"",hasFeedback:!0},r.a.createElement(qe.a,{style:{width:"100%"},format:"HH:mm",onChange:function(t,a){return e.formik.setValues(Object(N.a)({},e.formik.values,{time_delivery:a}))}}))),e.selectedClient&&r.a.createElement("div",null,r.a.createElement(ce.a,null),r.a.createElement(tt,{level:4},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"),r.a.createElement("div",{className:"order-form__form"},r.a.createElement(p.a,{placeholder:"\u0418\u043c\u044f",value:e.selectedClient.name}),r.a.createElement(p.a,{placeholder:"\u041d\u043e\u043c\u0435\u0440",style:{marginTop:5},value:e.selectedClient.phone}),r.a.createElement(p.a,{placeholder:"\u0410\u0434\u0440\u0435\u0441 ",style:{marginTop:5},value:e.selectedClient.address}))),r.a.createElement("div",null,r.a.createElement(ce.a,null),r.a.createElement(tt,{level:4},"\u0417\u0430\u043a\u0430\u0437"),e.errors.map((function(e){return r.a.createElement(Ge.a,{message:e,type:"error",showIcon:!0})})),e.cart.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ce.a,{orientation:"left"},a+1),r.a.createElement("div",{className:"order-form__form"},r.a.createElement(Ye.a,{showSearch:!0,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u044e\u0434\u043e",optionFilterProp:"children",onChange:function(t){e.handleChangeFood(t,a,"foodID")},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.foods.map((function(e){return r.a.createElement(et,{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",{style:{display:"flex",marginTop:5}},r.a.createElement(Qe.a,{placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:t.count,onChange:function(t){return e.handleChangeFood(t,a,"count")},style:{width:"100%"}}),r.a.createElement(Ye.a,{defaultValue:t.unit,style:{width:"100%"},onChange:function(t){e.handleChangeFood(t,a,"unit")}},r.a.createElement(et,{value:"\u0428\u0422"},"\u0428\u0422"),r.a.createElement(et,{value:"\u041a\u0413"},"\u041a\u0413"))),r.a.createElement(p.a,{style:{marginTop:5},placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:t.comment,onChange:function(t){return e.handleChangeFood(t.target.value,a,"comment")}})))})),r.a.createElement(k.a,{style:{marginTop:5},onClick:e.pushItem},"+")))},nt=function(){var e=r.a.useContext(Xe);return r.a.useEffect((function(e){}),[]),r.a.createElement(k.a,{onClick:e.formik.handleSubmit,type:"primary",style:{marginTop:5}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c (",e.sum,"\u0420)")},rt=function(e){var t=e.order,a=Object(i.g)();return r.a.createElement(ne.a,{status:"success",title:"\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",subTitle:"\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u0434 \u043d\u043e\u043c\u0435\u0440\u043e\u043c: ".concat(t.id),extra:[r.a.createElement(k.a,{onClick:function(){return a.push("/orders/".concat(t.id))},type:"primary",key:"console"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0437\u0430\u043a\u0430\u0437\u0443")]})},lt=function(){var e=r.a.useContext(Xe).order;return r.a.useEffect((function(e){}),[]),null===e?r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null),r.a.createElement(nt,null)):r.a.createElement(rt,{order:e})},ct=function(e){return r.a.createElement(Ke,null,r.a.createElement("div",{className:"site-content"},r.a.createElement(re.a,{style:{margin:"16px 0"}},r.a.createElement(re.a.Item,null,"\u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(lt,null))))},ot=te.a.Content,it=te.a.Footer,st=te.a.Sider,ut=function(e){var t=r.a.useState(!1),a=Object(ee.a)(t,2),n=a[0],l=a[1],c=Object(i.g)();return r.a.createElement(te.a,{className:"layout",style:{minHeight:"100vh"}},r.a.createElement(st,{className:"sider",collapsible:!0,collapsed:n,onCollapse:function(){return l(!n)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(ae.a,{theme:"dark",defaultSelectedKeys:["/"===window.location.pathname?"1":window.location.pathname.includes("clients")?"2":window.location.pathname.includes("foods")?"3":void 0],mode:"inline"},r.a.createElement(ae.a.Item,{key:"1",onClick:function(){return c.push("/")}},r.a.createElement(O.a,null),r.a.createElement("span",null,"\u0417\u0430\u043a\u0430\u0437\u044b")),r.a.createElement(ae.a.Item,{key:"2",onClick:function(){return c.push("/clients")}},r.a.createElement(x.a,null),r.a.createElement("span",null,"\u041a\u043b\u0438\u0435\u043d\u0442\u044b")),r.a.createElement(ae.a.Item,{key:"3",onClick:function(){return c.push("/foods")}},r.a.createElement(_.a,null),r.a.createElement("span",null,"\u0410\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442")),r.a.createElement(ae.a.Item,{key:"4",onClick:function(){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0430\u0439\u0442 ?")&&D()}},r.a.createElement(j.a,null),r.a.createElement("span",null,"\u0412\u044b\u0439\u0442\u0438")))),r.a.createElement(te.a,null,r.a.createElement(ot,{style:{padding:"0 50px"}},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:fe}),r.a.createElement(i.b,{exact:!0,path:"/orders/create",component:ct}),r.a.createElement(i.b,{exact:!0,path:"/orders/:id(\\d+)",component:He}),r.a.createElement(i.b,{exact:!0,path:"/clients",component:he}),r.a.createElement(i.b,{exact:!0,path:"/clients/create",component:_e}),r.a.createElement(i.b,{exact:!0,path:"/clients/:id(\\d+)",component:Ce}),r.a.createElement(i.b,{exact:!0,path:"/clients/:id/edit",component:_e}),r.a.createElement(i.b,{exact:!0,path:"/clients/:id/edit",component:_e}),r.a.createElement(i.b,{exact:!0,path:"/foods",component:Ne}),r.a.createElement(i.b,{exact:!0,path:"/foods/create",component:Le}),r.a.createElement(i.b,{exact:!0,path:"/foods/:id(\\d+)",component:Ae}),r.a.createElement(i.b,{exact:!0,path:"/foods/:id/edit",component:Le}),r.a.createElement(i.b,{component:function(){return r.a.createElement(ne.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(k.a,{onClick:function(){return c.push("/")},type:"primary"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")})}}))),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&r.a.createElement(X,null),r.a.createElement(it,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")))},mt=a(154);var dt=Object(mt.b)((function(e){return{user:e.userReducer.user,isReady:e.appReducer.isReady}}))((function(e){var t=e.user;return!1===e.isReady?r.a.createElement("section",{className:"auth"},r.a.createElement("div",{className:"auth__content"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")):r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.d,null,r.a.createElement(pt,{user:t,path:["/login","/signup"]},r.a.createElement(Q,null)),r.a.createElement(ft,{user:t,path:"/"},r.a.createElement(ut,null))))}));function ft(e){var t=e.children,a=e.user,n=Object(o.a)(e,["children","user"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){var n=e.location;return null!==a?t:r.a.createElement(i.a,{to:{pathname:"/login",state:{from:n}}})}}))}function pt(e){var t=e.children,a=e.user,n=Object(o.a)(e,["children","user"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){var n=e.location;return null===a?t:r.a.createElement(i.a,{to:{pathname:"/",state:{from:n}}})}}))}var ht=a(75),Et=a(282),vt=a(115),gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ht.d,yt=[Et.a],bt=Object(ht.e)(vt.default,gt(ht.a.apply(void 0,yt))),kt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function wt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ct=a(69),St=function(e){return{type:Ct.b,payload:e}},It={init:function(){var e=this;return function(t){B().then((function(e){t(St(e.data))})).catch((function(e){t(St(null))})).finally((function(){t(e.setAppIsready(!0))}))}},setAppIsready:function(e){return{type:Ct.a,payload:e}}};bt.dispatch(It.init()),c.a.render(r.a.createElement(mt.a,{store:bt},r.a.createElement(h.a,null,r.a.createElement(dt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");kt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):wt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):wt(t,e)}))}}()},69:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="SET_USER",r="APP:SET_IS_READY"}},[[286,1,2]]]);
//# sourceMappingURL=main.f69b60ff.chunk.js.map